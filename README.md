# Проект FOODGRAM
Автор бэкенда и CI/CD проекта - [Enigmatica33](https://github.com/Enigmatica33)
## Описание: 
«Фудграм» - это сайт, на котором пользователи могут публиковать свои рецепты, добавлять чужие рецепты в избранное и подписываться на публикации других авторов. Зарегистрированным пользователям также доступен сервис «Список покупок». Он позволяет создавать список продуктов (файл в формате .pdf), которые нужно купить для приготовления выбранных блюд.

## Проект состоит из следующих страниц: 
* главная,
* страница входа,
* страница регистрации,
* страница рецепта,
* страница пользователя,
* страница подписок,
* избранное,
* список покупок,
* создание и редактирование рецепта,
* страница смены пароля.

### Главная 
Содержимое главной — список первых шести рецептов, отсортированных по дате публикации «от новых к старым». На этой странице подключена постраничная пагинация.

### Страница регистрации
В проекте доступна система регистрации и аутентификации пользователей. Обязательные поля для пользователя при регистрации:
* имя,
* фамилия,
* имя пользователя (никнейм),
* адрес электронной почты,
* пароль.

### Страница входа
После регистрации пользователь переадресовывается на страницу входа.

### Страница рецепта
Здесь — полное описание рецепта. Залогиненные пользователи могут добавить рецепт в избранное и список покупок, а также подписаться на автора рецепта. Для каждого рецепта можно получить прямую короткую ссылку, нажав на соответствующую иконку справа от названия рецепта. Эта ссылка не меняется после редактирования рецепта.

### Страница пользователя
На странице — имя пользователя, все рецепты, опубликованные пользователем, и кнопка, чтобы подписаться или отписаться от него.

### Страница подписок
Только владелец аккаунта может просмотреть свою страницу подписок. Ссылка на неё находится в выпадающем меню в правом верхнем углу. Подписаться на публикации могут только залогиненные пользователи.
#### Сценарий поведения пользователя:
* Пользователь переходит на страницу другого пользователя или на страницу рецепта и подписывается на публикации автора кликом по кнопке Подписаться на автора.
* Пользователь переходит на страницу Мои подписки и просматривает список рецептов, опубликованных теми авторами, на которых он подписался. Записи сортируются по дате публикации — от новых к старым.
* При необходимости пользователь может отказаться от подписки на автора. Тогда ему нужно перейти на страницу автора, его рецепта или на страницу своих подписок и нажать кнопку Отписаться.

### Избранное
Добавлять рецепты в избранное может только залогиненный пользователь. Если незалогиненный пользователь попробует добавить рецепт в избранное, подписки или покупки, то приложение попросит его зарегистрироваться или войти в свой аккаунт. Добавить рецепт в избранное можно с главной страницы и со страницы самого рецепта, нажав на соответствующую иконку.
Сам список избранного может просмотреть только его владелец.
#### Сценарий поведения пользователя:
* Пользователь отмечает один или несколько рецептов кликом по кнопке Добавить в избранное.
* Пользователь переходит на страницу Избранное и просматривает свой список избранных рецептов.
* При необходимости пользователь может удалить рецепт из избранного.

### Список покупок
Работать со списком покупок могут только залогиненные пользователи. Доступ к собственному списку покупок есть только у владельца аккаунта.
#### Сценарий поведения пользователя:
* Пользователь отмечает один или несколько рецептов кликом по кнопке Добавить в покупки. Сделать это можно с главной страницы или со страницы рецепта.
* Пользователь переходит на страницу Список покупок, там доступны все добавленные в список рецепты. Пользователь нажимает кнопку Скачать список и получает файл с перечнем и количеством необходимых ингредиентов для всех рецептов, сохранённых на странице Список покупок.
* При необходимости пользователь может удалить рецепт из списка покупок.
Пользователь может скачать свой список покупок в формате .pdf. Ингредиенты в скачанном списке суммируются.

### Создание и редактирование рецепта
Эта страница доступна только для залогиненных пользователей. Все поля на ней обязательны для заполнения. 
Сценарий поведения пользователя:
#### Пользователь переходит на страницу добавления рецепта, нажав на кнопку Создать рецепт в шапке сайта.
* Пользователь заполняет все обязательные поля.
* Пользователь нажимает кнопку Создать рецепт.
* Также пользователь может отредактировать любой рецепт, который он создал.

### Страница изменения пароля
Доступ к этой странице есть только у залогиненных пользователей, через кнопку Сменить пароль в выпадающем меню в правом верхнем углу страницы.

### Фильтрация по тегам
В проекте доступна фильтрация по тегам в комбинации «или»: если выбрано несколько тегов, в результате должны быть показаны рецепты, которые отмечены хотя бы одним из этих тегов. 

### Смена аватара
После регистрации новый пользователь получает изображение профиля по умолчанию. При клике на аватар у пользователя в шапке сайта появляется возможность поменять его или удалить.

### Разграничение прав
В проекте реализованы разные уровни доступа пользователей:
* гость (анонимный пользователь),
* аутентифицированный (залогиненный) пользователь,
* администратор.

## Набор доступных эндпоинтов для API Foodgram:
- ```api/docs/``` - подробная документация по работе API Foodgram;
- ```api/tags/``` - получение списка тегов (GET);
- ```api/tags/{id}``` - получение тега с соответствующим id (GET);
- ```api/ingredients/``` - получение списка ингредиентов (GET);
- ```api/ingredients/{id}``` - получение ингредиента с соответствующим id (GET);
- ```api/recipes/``` - получение списка с рецептами и публикация рецептов
     (GET, POST);
- ```api/recipes/{id}``` - получение, изменение, удаление рецепта с
     соответствующим id (GET, PUT, PATCH, DELETE);
- ```api/recipes/{id}/get-link``` - получение короткой ссылки на рецепт
- ```api/recipes/{id}/shopping_cart/``` - добавление рецепта с соответствующим
     id в список покупок и удаление из списка (GET, DELETE);
- ```api/recipes/download_shopping_cart/``` - скачать файл со списком покупок
     в формате .pdf (GET);
- ```api/recipes/{id}/favorite/``` - добавление рецепта с соответствующим id в
     список избранного и его удаление (GET, DELETE).


### Операции с пользователями:
- ```api/users/``` - получение информации о пользователе и регистрация новых
     пользователей (GET, POST);
- ```api/users/{id}/``` - получение информации о пользователе (GET);
- ```api/users/me/``` - получение и изменение данных своей учётной записи.
     Доступна любым авторизованными пользователям (GET);
- ```api/users/me/avatar``` - смена аватара пользователя (PATCH, DELETE);
- ```api/users/set_password/``` - изменение собственного пароля (PATCH);
- ```api/users/{id}/subscribe/``` - подписаться на пользователя с
     соответствующим id или отписаться от него (GET, DELETE);
- ```api/users/subscriptions/``` - просмотр пользователей на которых
     подписан текущий пользователь (GET).

### Аутентификация и создание новых пользователей:
- ```api/auth/token/login/``` - получение токена (POST);
- ```api/auth/token/logout/``` - удаление токена (POST).

## Технологический стек:
[![Python](https://img.shields.io/badge/-Python-464646?style=flat&logo=Python&logoColor=56C0C0&color=008080)](https://www.python.org/)
[![Django](https://img.shields.io/badge/-Django-464646?style=flat&logo=Django&logoColor=56C0C0&color=008080)](https://www.djangoproject.com/)
[![Django REST Framework](https://img.shields.io/badge/-Django%20REST%20Framework-464646?style=flat&logo=Django%20REST%20Framework&logoColor=56C0C0&color=008080)](https://www.django-rest-framework.org/)
[![PostgreSQL](https://img.shields.io/badge/-PostgreSQL-464646?style=flat&logo=PostgreSQL&logoColor=56C0C0&color=008080)](https://www.postgresql.org/)
[![Nginx](https://img.shields.io/badge/-NGINX-464646?style=flat&logo=NGINX&logoColor=56C0C0&color=008080)](https://nginx.org/ru/)
[![gunicorn](https://img.shields.io/badge/-gunicorn-464646?style=flat&logo=gunicorn&logoColor=56C0C0&color=008080)](https://gunicorn.org/)
[![Docker](https://img.shields.io/badge/-Docker-464646?style=flat&logo=Docker&logoColor=56C0C0&color=008080)](https://www.docker.com/)
[![GitHub%20Actions](https://img.shields.io/badge/-GitHub%20Actions-464646?style=flat&logo=GitHub%20actions&logoColor=56C0C0&color=008080)](https://github.com/features/actions)

Проект доступен по адресу:
```https://foodgram.myftp.org/```